# Android App - –ó–∞–≥–ª—É—à–∫–∞ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê:

–ö–æ–≥–¥–∞ –∏–≥—Ä–∞–ª–∞ –∑–∞–≥–ª—É—à–∫–∞ (placeholder), –æ–Ω–∞ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∞ –Ω–∞ –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- `player/pause` - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞ –∑–∞–≥–ª—É—à–∫—É
- `player/stop` - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞ –∑–∞–≥–ª—É—à–∫—É
- `player/restart` - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–ª–∞ –∑–∞–≥–ª—É—à–∫—É

**–≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!** –ó–∞–≥–ª—É—à–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏–≥—Ä–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ loop, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `isPlayingPlaceholder` –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥:

### player/pause:
```kotlin
socket?.on("player/pause") {
    runOnUiThread {
        // –ö–†–ò–¢–ò–ß–ù–û: –ó–∞–≥–ª—É—à–∫–∞ –ù–ï —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –ø–∞—É–∑—É
        if (isPlayingPlaceholder) {
            Log.d(TAG, "‚è∏Ô∏è Pause –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è - –∏–≥—Ä–∞–µ—Ç –∑–∞–≥–ª—É—à–∫–∞")
            return@runOnUiThread
        }
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é –ø–µ—Ä–µ–¥ –ø–∞—É–∑–æ–π (–¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
        savedPosition = player?.currentPosition ?: 0
        player?.pause()
    }
}
```

### player/stop:
```kotlin
socket?.on("player/stop") {
    runOnUiThread {
        // –ö–†–ò–¢–ò–ß–ù–û: –ó–∞–≥–ª—É—à–∫–∞ –ù–ï —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ stop
        if (isPlayingPlaceholder) {
            Log.d(TAG, "‚èπÔ∏è Stop –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è - –∏–≥—Ä–∞–µ—Ç –∑–∞–≥–ª—É—à–∫–∞")
            return@runOnUiThread
        }
        
        player?.stop()
        loadPlaceholder()
    }
}
```

### player/restart:
```kotlin
socket?.on("player/restart") {
    runOnUiThread {
        // –ö–†–ò–¢–ò–ß–ù–û: –ó–∞–≥–ª—É—à–∫–∞ –ù–ï —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ restart
        if (isPlayingPlaceholder) {
            Log.d(TAG, "üîÑ Restart –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è - –∏–≥—Ä–∞–µ—Ç –∑–∞–≥–ª—É—à–∫–∞")
            return@runOnUiThread
        }
        
        player?.seekTo(0)
        player?.play()
    }
}
```

---

## üìù –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´:

### 1. –ó–∞–≥–ª—É—à–∫–∞ –∏–≥—Ä–∞–µ—Ç (isPlayingPlaceholder = true)
- ‚úÖ Loop –ø–æ—Å—Ç–æ—è–Ω–Ω–æ (repeatMode = REPEAT_MODE_ONE)
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç pause/stop/restart
- ‚úÖ –ñ–¥–µ—Ç –∫–æ–º–∞–Ω–¥—É `player/play` —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

### 2. –ü—Ä–∏—Ö–æ–¥–∏—Ç player/play —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- ‚úÖ `handlePlay(data)` ‚Üí `playVideo(file, isPlaceholder=false)`
- ‚úÖ `isPlayingPlaceholder = false`
- ‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –∑–∞–≥–ª—É—à–∫–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

### 3. –ö–æ–Ω—Ç–µ–Ω—Ç –∏–≥—Ä–∞–µ—Ç (isPlayingPlaceholder = false)
- ‚úÖ –†–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ pause/stop/restart (–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- ‚úÖ –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è ‚Üí `loadPlaceholder()`

### 4. –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –∑–∞–≥–ª—É—à–∫—É
- ‚úÖ `loadPlaceholder()` ‚Üí `isPlayingPlaceholder = true`
- ‚úÖ –¶–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —Å –ø.1

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢:

- –ó–∞–≥–ª—É—à–∫–∞ loop –ø–æ—Å—Ç–æ—è–Ω–Ω–æ
- –ö–Ω–æ–ø–∫–∏ pause/stop/restart –Ω–∞ –∑–∞–≥–ª—É—à–∫—É –ù–ï –¥–µ–π—Å—Ç–≤—É—é—Ç
- –¢–æ–ª—å–∫–æ `player/play` –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç
- –ö–æ–Ω—Ç–µ–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ü–æ—Å–ª–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –∑–∞–≥–ª—É—à–∫—É

**–ö–æ–º–º–∏—Ç:** 800c10b  
**APK:** –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω, 9.0 MB
