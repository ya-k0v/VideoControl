# VideoControl Clients

–ù–∞—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.

## üì¶ –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

### üé¨ VLC Client (`vlc/`)
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–æ–≤

- **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã:** Windows, Linux, macOS
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –û—Ñ–∏—Å—ã, –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü-–∑–∞–ª—ã, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ:** ~150-200 MB RAM
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

### üé• MPV Client (`mpv/`)
–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Å–ª–∞–±–æ–≥–æ –∂–µ–ª–µ–∑–∞

- **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã:** Linux, Raspberry Pi, macOS
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** Raspberry Pi, —Å–ª–∞–±—ã–µ –ü–ö, embedded —Å–∏—Å—Ç–µ–º—ã
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ:** ~80-120 MB RAM
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** Hardware acceleration, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è RPi

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### VLC Client:

```bash
cd vlc/
pip3 install -r requirements.txt
python3 vlc_client.py --server http://YOUR_SERVER --device YOUR_DEVICE_ID
```

### MPV Client:

```bash
cd mpv/
pip3 install -r requirements.txt
python3 mpv_client.py --server http://YOUR_SERVER --device YOUR_DEVICE_ID
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ä—Ç 80 (—á–µ—Ä–µ–∑ Nginx) –¥–ª—è production. –ü–æ—Ä—Ç 3000 —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ë–ï–ó Nginx.

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Browser | VLC | MPV |
|----------------|---------|-----|-----|
| **–£—Å—Ç–∞–Ω–æ–≤–∫–∞** | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω—è—è |
| **RAM** | 200-300 MB | 150-200 MB | 80-120 MB |
| **CPU** | –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω–∏–π | –ù–∏–∑–∫–∏–π |
| **–§–æ—Ä–º–∞—Ç—ã** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ | –í—Å–µ | –í—Å–µ |
| **PDF/PPTX** | ‚úÖ | ‚ùå | ‚ùå |
| **Raspberry Pi** | ‚ö†Ô∏è | ‚úì | ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ |
| **Windows** | ‚úÖ | ‚úÖ | ‚ùå |
| **macOS** | ‚úÖ | ‚úÖ | ‚úÖ |
| **Linux** | ‚úÖ | ‚úÖ | ‚úÖ |

## üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç

### Browser (player.html)
**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:**
- –ù—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PDF/PPTX
- –ï—Å—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ü–ö/–ø–ª–∞–Ω—à–µ—Ç
- –ù–µ —Ö–æ—á–µ—Ç—Å—è –Ω–∏—á–µ–≥–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å
- –ù—É–∂–µ–Ω preview —Ñ–∞–π–ª–æ–≤

**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:**
- –°–ª–∞–±–æ–µ –∂–µ–ª–µ–∑–æ (Raspberry Pi)
- –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### VLC Client
**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:**
- –î–µ—Å–∫—Ç–æ–ø—ã Windows/Linux/macOS
- –ù—É–∂–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å
- –û—Ñ–∏—Å—ã –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–ª—ã
- –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:**
- Raspberry Pi (MPV –ª—É—á—à–µ)
- –ù—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PDF/PPTX

### MPV Client
**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:**
- Raspberry Pi
- –°–ª–∞–±—ã–µ –ü–ö
- Embedded —Å–∏—Å—Ç–µ–º—ã
- –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- Hardware acceleration –≤–∞–∂–µ–Ω

**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:**
- Windows (VLC –ª—É—á—à–µ)
- –ù—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PDF/PPTX

## üîß –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ –µ–¥–∏–Ω–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É:

```
1. –ó–∞–ø—É—Å–∫ ‚Üí –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–≥–ª—É—à–∫–∏ (default.mp4) –≤ loop
2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ WebSocket (Socket.IO)
3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞
4. –û–∂–∏–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (play, pause, stop, restart)
5. –ü—Ä–∏ –∫–æ–º–∞–Ω–¥–µ play ‚Üí –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
6. –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ –∑–∞–≥–ª—É—à–∫–µ
7. –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏ ‚Üí –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∑–∞–≥–ª—É—à–∫–∏ (–∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å)
```

## üì° WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª

### –°–æ–±—ã—Ç–∏—è –û–¢ –∫–ª–∏–µ–Ω—Ç–∞ –ö —Å–µ—Ä–≤–µ—Ä—É:

```javascript
// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
socket.emit('player/register', {
  device_id: 'vlc-001',
  device_type: 'vlc',  // –∏–ª–∏ 'mpv', 'browser'
  capabilities: {
    video: true,
    audio: true,
    images: false,
    pdf: false,
    streaming: true
  }
});

// Heartbeat
socket.emit('player/ping');
```

### –°–æ–±—ã—Ç–∏—è –û–¢ —Å–µ—Ä–≤–µ—Ä–∞ –ö –∫–ª–∏–µ–Ω—Ç—É:

```javascript
// –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
socket.on('player/play', (data) => {
  // data = { file: 'video.mp4', type: 'video' }
});

// –ü–∞—É–∑–∞
socket.on('player/pause', () => {});

// –†–µ—Å—Ç–∞—Ä—Ç
socket.on('player/restart', () => {});

// –°—Ç–æ–ø (–≤–æ–∑–≤—Ä–∞—Ç –∫ –∑–∞–≥–ª—É—à–∫–µ)
socket.on('player/stop', () => {});

// –°–æ—Å—Ç–æ—è–Ω–∏–µ
socket.on('player/state', (data) => {});

// Heartbeat –æ—Ç–≤–µ—Ç
socket.on('player/pong', () => {});
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç –¥–ª—è –Ω–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Android, iOS, Smart TV, –∏ —Ç.–¥.):

1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Socket.IO** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
2. **–û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏—è:** play, pause, stop, restart
3. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–≥–ª—É—à–∫–∏** –≤ loop –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
4. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** –ø–æ –∫–æ–º–∞–Ω–¥–µ
5. **–í–æ–∑–≤—Ä–∞—Ç –∫ –∑–∞–≥–ª—É—à–∫–µ** –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è
6. **Heartbeat** –∫–∞–∂–¥—ã–µ 10-15 —Å–µ–∫—É–Ω–¥
7. **–ê–≤—Ç–æ—Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç** –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ø—Å–µ–≤–¥–æ–∫–æ–¥):

```python
class VideoControlClient:
    def __init__(self, server_url, device_id):
        self.socket = SocketIO(server_url)
        self.player = Player()
        self.default_url = f"{server_url}/content/{device_id}/default.mp4"
        
    def start(self):
        # 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–≥–ª—É—à–∫—É
        self.play_placeholder()
        
        # 2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
        self.socket.connect()
        self.socket.emit('player/register', {...})
        
        # 3. –°–ª—É—à–∞—Ç—å —Å–æ–±—ã—Ç–∏—è
        self.socket.on('player/play', self.on_play)
        self.socket.on('player/stop', self.on_stop)
        
    def play_placeholder(self):
        self.player.play(self.default_url, loop=True)
        
    def on_play(self, data):
        url = f"{self.server_url}/content/{self.device_id}/{data['file']}"
        self.player.play(url, loop=False)
        
    def on_stop(self):
        self.play_placeholder()
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [VLC Client README](vlc/README.md)
- [MPV Client README](mpv/README.md)
- [–ì–ª–∞–≤–Ω—ã–π README –ø—Ä–æ–µ–∫—Ç–∞](../README.md)

## üéì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?

–î–∞! –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç - —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º `device_id`.

### –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É?

–ü–æ–ª–æ–∂–∏—Ç–µ —Ñ–∞–π–ª `default.mp4` –≤ –ø–∞–ø–∫—É `/vid/videocontrol/public/content/YOUR_DEVICE_ID/`

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –Ω–µ—Ç –∑–∞–≥–ª—É—à–∫–∏?

–ö–ª–∏–µ–Ω—Ç –ø–æ–∫–∞–∂–µ—Ç –æ—à–∏–±–∫—É –≤ –ª–æ–≥–∞—Ö. –°–æ–∑–¥–∞–π—Ç–µ –ª—é–±–æ–µ –≤–∏–¥–µ–æ –∏ –Ω–∞–∑–æ–≤–∏—Ç–µ `default.mp4`.

### –ú–æ–∂–Ω–æ –ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–º –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞?

–ù–µ—Ç, –∫–ª–∏–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ù–æ –∑–∞–≥–ª—É—à–∫–∞ –±—É–¥–µ—Ç –∫—Ä—É—Ç–∏—Ç—å—Å—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–ª–∏–µ–Ω—Ç–∞
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å —Ñ–ª–∞–≥–æ–º `--debug`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ (`curl http://server:3000/`)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–≥–ª—É—à–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ VideoControl

