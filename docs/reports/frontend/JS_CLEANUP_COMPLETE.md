# JS –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ - –ó–∞–≤–µ—Ä—à–µ–Ω–∞

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º (–∫–æ–º–º–∏—Ç 8800f9e):

**–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π admin.js:** 1,094 —Å—Ç—Ä–æ–∫  
**–¢–µ–∫—É—â–∏–π admin.js:** 267 —Å—Ç—Ä–æ–∫ (-76%)

### üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π:

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ shared –º–æ–¥—É–ª–µ–π –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã - **–ù–ò –û–î–ù–ê –ù–ï –ë–´–õ–ê –í –û–†–ò–ì–ò–ù–ê–õ–ï!**

```bash
isVideoFile, isImageFile, formatFileSize: 0 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
apiFetch, apiGet, apiPost:               0 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ  
createSocket:                            0 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
isAuthorized, logout:                    0 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
```

**–í—ã–≤–æ–¥:** –í—Å–µ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ "–Ω–∞ –±—É–¥—É—â–µ–µ" –∏ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏–ª–∏—Å—å.

---

## üóëÔ∏è –£–î–ê–õ–ï–ù–û –ú–Å–†–¢–í–û–ì–û –ö–û–î–ê:

### 1. `public/js/shared/dom-helpers.js` - 87 —Å—Ç—Ä–æ–∫
- debounce() (–¥—É–±–ª—å)
- createElement()
- safeEncode/DecodeURIComponent()
- showNotification()

### 2. `public/js/shared/api-client.js` - 117 —Å—Ç—Ä–æ–∫
- apiFetch()
- apiGet()
- apiPost()
- apiDelete()
- apiUpload()

**–ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è:** –í–º–µ—Å—Ç–æ –Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `adminFetch()` –∏–∑ auth.js

### 3. `public/js/shared/file-utils.js` - 96 —Å—Ç—Ä–æ–∫
- isVideoFile()
- isImageFile()
- isDocumentFile()
- canBeDefaultFile()
- formatFileSize()
- getFileDisplayInfo()

**–ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è:** –õ–æ–≥–∏–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ —Ä–µ–≥—É–ª—è—Ä–∫–∏ `/\.(mp4|jpg|...)$/i.test()`

### 4. `auth.js` - —É–¥–∞–ª–µ–Ω–æ 16 —Å—Ç—Ä–æ–∫
- isAuthorized()
- logout()

### 5. `socket-base.js` - —É–¥–∞–ª–µ–Ω–æ 37 —Å—Ç—Ä–æ–∫
- createSocket()

**–û—Å—Ç–∞–≤–ª–µ–Ω–æ:** debounce() - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ socket-listeners.js

---

## üìä –ò–¢–û–ì–û:

| –ß—Ç–æ —É–¥–∞–ª–µ–Ω–æ | –°—Ç—Ä–æ–∫ |
|-------------|-------|
| dom-helpers.js | 87 |
| api-client.js | 117 |
| file-utils.js | 96 |
| –ò–∑ auth.js | 16 |
| –ò–∑ socket-base.js | 37 |
| **–í–°–ï–ì–û** | **353 —Å—Ç—Ä–æ–∫–∏** |

---

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê:

**Admin –º–æ–¥—É–ª–∏ (10):** 1,108 —Å—Ç—Ä–æ–∫
- auth.js (101)
- socket-listeners.js (80)
- devices-manager.js (172)
- device-card.js (176)
- device-crud.js (27)
- files-manager.js (354)
- file-actions.js (31)
- upload-manager.js (44)
- upload-ui.js (78)
- ui-helpers.js (29)

**Shared –º–æ–¥—É–ª–∏ (2):** 93 —Å—Ç—Ä–æ–∫–∏
- constants.js (74)
- socket-base.js (19)

**Main —Ñ–∞–π–ª—ã:** 1,090 —Å—Ç—Ä–æ–∫
- admin.js (267)
- speaker.js (515)
- player-videojs.js (1,242)
- utils.js (108)
- theme.js (10)

**–í—Å–µ–≥–æ:** 3,333 —Å—Ç—Ä–æ–∫–∏ (-347 –æ—Ç 3,680)

---

## ‚úÖ –í–°–ï –ò–ú–ü–û–†–¢–´ –í–ê–õ–ò–î–ù–´

–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –ù–µ—Ç –∏–º–ø–æ—Ä—Ç–æ–≤ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤  
–õ–∏–Ω—Ç–µ—Ä: –ß–∏—Å—Ç

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:

- ‚ùå –£–¥–∞–ª–µ–Ω–æ 353 —Å—Ç—Ä–æ–∫–∏ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ –ù–µ—Ç —Å–ª–æ–º–∞–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ö–æ–¥ —á–∏—Å—Ç—ã–π –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π!**
